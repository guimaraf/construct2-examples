<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>comum</name>
    <events>
        <event-block sid="410777705983914">
            <conditions>
                <condition id="-2" name="On start of layout" sid="894592528218344" type="System" />
            </conditions>
            <actions>
                <action id="0" name="Set text" sid="851938638656471" type="text">
                    <param id="0" name="Text">LayoutName</param>
                </action>
                <action id="-10" name="Set value" sid="240846945852491" type="soul">
                    <param id="0" name="Instance variable">currentStage</param>
                    <param id="1" name="Value">replace(LayoutName,&quot;Level&quot;,&quot;&quot;)</param>
                </action>
                <action id="-10" name="Set value" sid="548025821870678" type="soul">
                    <param id="0" name="Instance variable">stars</param>
                    <param id="1" name="Value">Array.At(int(Self.currentStage) - 1)</param>
                </action>
                <action id="5" name="Set frame" sid="374099702761089" type="coins">
                    <param id="0" name="Frame number">arCoins.At(int(soul.currentStage) - 1, Self.id - 1) = 0 ? Self.id : 0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="113846561422075">
            <conditions>
                <condition id="0" name="On collision with another object" sid="139799710788293" type="soul">
                    <param id="0" name="Object">coins</param>
                </condition>
                <condition id="3" name="Compare frame" sid="942008061228908" type="coins">
                    <param id="0" name="Comparison">4</param>
                    <param id="1" name="Number">0</param>
                </condition>
            </conditions>
            <actions>
                <action id="-11" name="Add to" sid="921074901498160" type="soul">
                    <param id="0" name="Instance variable">stars</param>
                    <param id="1" name="Value">1</param>
                </action>
                <action id="3" name="Set at XY" sid="737313710127094" type="arCoins">
                    <param id="0" name="X">int(soul.currentStage) - 1</param>
                    <param id="1" name="Y">coins.AnimationFrame - 1</param>
                    <param id="2" name="Value">1</param>
                </action>
                <action id="2" name="Set at X" sid="711913812744909" type="Array">
                    <param id="0" name="X">int(soul.currentStage) - 1</param>
                    <param id="1" name="Value">soul.stars</param>
                </action>
                <action id="-9" name="Destroy" sid="682850930511456" type="coins" />
            </actions>
        </event-block>
        <event-block sid="245665826684094">
            <conditions>
                <condition id="0" name="On collision with another object" sid="488829620466088" type="soul">
                    <param id="0" name="Object">back</param>
                </condition>
            </conditions>
            <actions>
                <action id="2" name="Set at X" sid="662042985921769" type="Array">
                    <param id="0" name="X">int(soul.currentStage)</param>
                    <param id="1" name="Value">int(soul.currentStage) &lt; Array.Width &amp; Array.At(int(soul.currentStage)) = 0 ? 1 : Array.At(int(soul.currentStage))</param>
                </action>
                <action id="0" name="Set item" sid="741808721729744" type="LocalStorage">
                    <param id="0" name="Key">&quot;saveGame&quot;</param>
                    <param id="1" name="Value">Array.AsJSON &amp; &quot;/&quot; &amp; arCoins.AsJSON</param>
                </action>
                <action id="-2" name="Go to layout" sid="856629899264059" type="System">
                    <param id="0" name="Layout">menu</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
